{
	"识别我方回合": {
		"recognition": {
			"type": "TemplateMatch",
			"param": {
				"template": "对战/我方回合.png"
			}
		},
		"next": ["识别没有+1费"]
	},
	"识别没有+1费": {
		"timeout": 2000,
		"inverse": true,
		"recognition": {
			"type": "TemplateMatch",
			"param": {
				"template": "对战/+1费.png"
			}
		},
		"next": ["点击能量点", "出牌_1"]
	},
	"点击能量点": {
		"timeout": 2000,
		"recognition": {
			"type": "TemplateMatch",
			"param": {
				"template": "对战/能量点.png",
				"threshold": 0.5
			}
		},
		"action": {
			"type": "Click",
			"param": {}
		},
		"next": ["出牌_1"]
	},
	"出牌_1": {
		"action": {
			"type": "MultiSwipe",
			"param": {
				"swipes": [
					{
						"starting": 0,
						"begin": [936, 616, 47, 103],
						"end": [936, 616, 47, 103],
						"duration": 50
					},
					{
						"starting": 250,
						"begin": [640, 600, 80, 120],
						"end": [333, 324, 623, 141],
						"duration": 200
					},
					{
						"starting": 500,
						"begin": [578, 57, 121, 49],
						"end": [578, 57, 121, 49],
						"duration": 50
					}
				]
			}
		},
		"next": ["出牌_2"]
	},
	"出牌_2": {
		"action": {
			"type": "MultiSwipe",
			"param": {
				"swipes": [
					{
						"starting": 0,
						"begin": [936, 616, 47, 103],
						"end": [936, 616, 47, 103],
						"duration": 50
					},
					{
						"starting": 250,
						"begin": [540, 600, 80, 120],
						"end": [333, 324, 623, 141],
						"duration": 200
					},
					{
						"starting": 500,
						"begin": [578, 57, 121, 49],
						"end": [578, 57, 121, 49],
						"duration": 50
					}
				]
			}
		},
		"next": ["出牌_3"]
	},
	"出牌_3": {
		"action": {
			"type": "MultiSwipe",
			"param": {
				"swipes": [
					{
						"starting": 0,
						"begin": [936, 616, 47, 103],
						"end": [936, 616, 47, 103],
						"duration": 50
					},
					{
						"starting": 250,
						"begin": [740, 600, 80, 120],
						"end": [333, 324, 623, 141],
						"duration": 200
					},
					{
						"starting": 500,
						"begin": [578, 57, 121, 49],
						"end": [578, 57, 121, 49],
						"duration": 50
					}
				]
			}
		},
		"next": ["出牌_4"]
	},
	"出牌_4": {
		"action": {
			"type": "MultiSwipe",
			"param": {
				"swipes": [
					{
						"starting": 0,
						"begin": [936, 616, 47, 103],
						"end": [936, 616, 47, 103],
						"duration": 50
					},
					{
						"starting": 250,
						"begin": [440, 600, 80, 120],
						"end": [333, 324, 623, 141],
						"duration": 200
					},
					{
						"starting": 500,
						"begin": [578, 57, 121, 49],
						"end": [578, 57, 121, 49],
						"duration": 50
					}
				]
			}
		},
		"next": ["出牌_5"]
	},
	"出牌_5": {
		"action": {
			"type": "MultiSwipe",
			"param": {
				"swipes": [
					{
						"starting": 0,
						"begin": [936, 616, 47, 103],
						"end": [936, 616, 47, 103],
						"duration": 50
					},
					{
						"starting": 250,
						"begin": [840, 600, 80, 120],
						"end": [333, 324, 623, 141],
						"duration": 200
					},
					{
						"starting": 500,
						"begin": [578, 57, 121, 49],
						"end": [578, 57, 121, 49],
						"duration": 50
					}
				]
			}
		},
		"next": ["出牌_6"]
	},
	"出牌_6": {
		"action": {
			"type": "MultiSwipe",
			"param": {
				"swipes": [
					{
						"starting": 0,
						"begin": [936, 616, 47, 103],
						"end": [936, 616, 47, 103],
						"duration": 50
					},
					{
						"starting": 250,
						"begin": [340, 600, 80, 120],
						"end": [333, 324, 623, 141],
						"duration": 200
					},
					{
						"starting": 500,
						"begin": [578, 57, 121, 49],
						"end": [578, 57, 121, 49],
						"duration": 50
					}
				]
			}
		},
		"next": ["出牌_7"]
	},
	"出牌_7": {
		"action": {
			"type": "MultiSwipe",
			"param": {
				"swipes": [
					{
						"starting": 0,
						"begin": [936, 616, 47, 103],
						"end": [936, 616, 47, 103],
						"duration": 50
					},
					{
						"starting": 250,
						"begin": [940, 600, 80, 120],
						"end": [333, 324, 623, 141],
						"duration": 200
					},
					{
						"starting": 500,
						"begin": [578, 57, 121, 49],
						"end": [578, 57, 121, 49],
						"duration": 50
					}
				]
			}
		},
		"next": ["出牌_8"]
	},
	"出牌_8": {
		"action": {
			"type": "MultiSwipe",
			"param": {
				"swipes": [
					{
						"starting": 0,
						"begin": [936, 616, 47, 103],
						"end": [936, 616, 47, 103],
						"duration": 50
					},
					{
						"starting": 250,
						"begin": [240, 600, 80, 120],
						"end": [333, 324, 623, 141],
						"duration": 200
					},
					{
						"starting": 500,
						"begin": [578, 57, 121, 49],
						"end": [578, 57, 121, 49],
						"duration": 50
					}
				]
			}
		},
		"next": ["出牌_9"]
	},
	"出牌_9": {
		"action": {
			"type": "MultiSwipe",
			"param": {
				"swipes": [
					{
						"starting": 0,
						"begin": [936, 616, 47, 103],
						"end": [936, 616, 47, 103],
						"duration": 50
					},
					{
						"starting": 250,
						"begin": [1040, 600, 80, 120],
						"end": [333, 324, 623, 141],
						"duration": 200
					},
					{
						"starting": 500,
						"begin": [578, 57, 121, 49],
						"end": [578, 57, 121, 49],
						"duration": 50
					}
				]
			}
		},
		"post_wait_freezes": 3000,
		"next": ["进化", "结束回合"]
	},
	"进化": {
		"recognition": {
			"type": "Custom",
			"param": {
				"custom_recognition": "MultiRecognition",
				"custom_recognition_param": {
					"nodes": [
						"红色生命值识别",
						"白色生命值识别",
						"绿色生命值识别",
						"黄色攻击力识别",
						"白色攻击力识别",
						"绿色攻击力识别"
					],
					"logic": {
						"type": "OR"
					},
					"return": "$0"
				}
			}
		},
		"action": {
			"type": "Custom",
			"param": {
				"custom_action": "GenerateEvolutionPlan"
			}
		},
		"post_wait_freezes": 3000,
		"next": ["进行攻击"],
		"on_error": ["结束回合"]
	},
	"进行攻击": {
		"repeat": 5,
		"recognition": {
			"type": "Custom",
			"param": {
				"custom_recognition": "MultiRecognition",
				"custom_recognition_param": {
					"nodes": [
						"红色生命值识别",
						"白色生命值识别",
						"绿色生命值识别",
						// "灰色生命值识别", // 这个好像没用
						"黄色攻击力识别",
						"白色攻击力识别",
						"绿色攻击力识别"
					],
					"logic": {
						"type": "OR"
					},
					"return": "$0"
				}
			}
		},
		"action": {
			"type": "Custom",
			"param": {"custom_action": "GenerateAttackPlan"}
		},
		"on_error": ["攻击错误处理"],
		"next": ["结束回合", "识别对手回合"]
	},
	"攻击错误处理": {
		// 其实只是回避重复路由
		"next": ["结束回合", "识别对手回合"]
	},
	"结束回合": {
		"recognition": {
			"type": "TemplateMatch",
			"param": {
				"template": "对战/结束回合.png"
			}
		},
		"action": {
			"type": "Click"
		}
	},
	"多指滑动泛用型": {
		"action": {
			"type": "MultiSwipe",
			"param": {
				"swipes": [{}]
			}
		}
	},
	"识别对手主战血量": {
		"recognition": {
			"type": "OCR",
			"param": {
				"roi": [734, 47, 41, 30],
				"only_rec": true
			}
		}
	},
	"识别对手回合": {
		"recognition": {
			"type": "TemplateMatch",
			"param": {
				"template": "对战/对手回合.png"
			}
		}
	},
	"红色生命值识别": {
		"recognition": {
			"type": "And",
			"param": {
				"all_of": [
					{
						"sub_name": "生命位置",
						"recognition": {
							"type": "ColorMatch",
							"param": {
								"roi": [103, 140, 964, 337],
								"upper": [204, 68, 67],
								"lower": [98, 35, 37],
								"count": 400,
								"connected": true
							}
						}
					},
					{
						"sub_name": "红色生命位置",
						"recognition": {
							"type": "ColorMatch",
							"param": {
								"roi": "生命位置",
								"upper": [211, 158, 158],
								"lower": [167, 89, 89],
								"count": 200,
								"connected": true
							}
						}
					},
					{
						"recognition": {
							"type": "OCR",
							"param": {
								"roi": "红色生命位置",
								//"roi_offset": [5, 5, -10, -10],
								"only_rec": true
							}
						}
					}
				]
			}
		}
	},
	"白色生命值识别": {
		"recognition": {
			"type": "And",
			"param": {
				"all_of": [
					{
						"sub_name": "生命位置",
						"recognition": {
							"type": "ColorMatch",
							"param": {
								"roi": [103, 140, 964, 337],
								"upper": [204, 68, 67],
								"lower": [98, 35, 37],
								"count": 400,
								"connected": true
							}
						}
					},
					{
						"sub_name": "白色生命位置",
						"recognition": {
							"type": "ColorMatch",
							"param": {
								"roi": "生命位置",

								"upper": [255, 255, 255],
								"lower": [177, 123, 119],
								"count": 100,
								"connected": true
							}
						}
					},
					{
						"recognition": {
							"type": "OCR",
							"param": {
								"roi": "白色生命位置",
								//"roi_offset": [5, 5, -10, -10],
								"only_rec": true
							}
						}
					}
				]
			}
		}
	},
	"绿色生命值识别": {
		"recognition": {
			"type": "And",
			"param": {
				"all_of": [
					{
						"sub_name": "生命位置",
						"recognition": {
							"type": "ColorMatch",
							"param": {
								"roi": [103, 140, 964, 337],
								"upper": [204, 68, 67],
								"lower": [98, 35, 37],
								"count": 400,
								"connected": true
							}
						}
					},
					{
						"sub_name": "绿色生命位置",
						"recognition": {
							"type": "ColorMatch",
							"param": {
								"roi": "生命位置",

								"upper": [106, 235, 26],
								"lower": [98, 107, 11],
								"count": 100,
								"connected": true
							}
						}
					},
					{
						"recognition": {
							"type": "OCR",
							"param": {
								"roi": "绿色生命位置",
								//"roi_offset": [5, 5, -10, -10],
								"only_rec": true
							}
						}
					}
				]
			}
		}
	},
	"灰色生命值识别": {
		"recognition": {
			"type": "And",
			"param": {
				"all_of": [
					{
						"sub_name": "生命位置",
						"recognition": {
							"type": "ColorMatch",
							"param": {
								"roi": [103, 140, 964, 337],
								"upper": [204, 68, 67],
								"lower": [98, 35, 37],
								"count": 400,
								"connected": true
							}
						}
					},
					{
						"sub_name": "灰色生命位置",
						"recognition": {
							"type": "ColorMatch",
							"param": {
								"roi": "生命位置",

								"upper": [151, 151, 110],
								"lower": [93, 42, 36],
								"count": 100,
								"connected": true
							}
						}
					},
					{
						"recognition": {
							"type": "OCR",
							"param": {
								"roi": "灰色生命位置",
								//"roi_offset": [5, 5, -10, -10],
								"only_rec": true
							}
						}
					}
				]
			}
		}
	},
	"黄色攻击力识别": {
		"recognition": {
			"type": "And",
			"param": {
				"all_of": [
					{
						"sub_name": "攻击力位置",
						"recognition": {
							"type": "ColorMatch",
							"param": {
								"roi": [103, 140, 964, 337],
								"upper": [94, 123, 199],
								"lower": [5, 64, 106],
								"count": 600,
								"connected": true
							}
						}
					},
					{
						"sub_name": "黄色攻击力位置",
						"recognition": {
							"type": "ColorMatch",
							"param": {
								"roi": "攻击力位置",

								"upper": [248, 201, 113],
								"lower": [79, 84, 94],
								"count": 100,
								"connected": true
							}
						}
					},
					{
						"recognition": {
							"type": "OCR",
							"param": {
								"roi": "黄色攻击力位置",
								//"roi_offset": [5, 5, -10, -10],
								"only_rec": true
							}
						}
					}
				]
			}
		}
	},
	"白色攻击力识别": {
		"recognition": {
			"type": "And",
			"param": {
				"all_of": [
					{
						"sub_name": "攻击力位置",
						"recognition": {
							"type": "ColorMatch",
							"param": {
								"roi": [103, 140, 964, 337],
								"upper": [117, 145, 199],
								"lower": [5, 64, 106],
								"count": 600,
								"connected": true
							}
						}
					},
					{
						"sub_name": "白色攻击力位置",
						"recognition": {
							"type": "ColorMatch",
							"param": {
								"roi": "攻击力位置",

								"upper": [255, 255, 255],
								"lower": [133, 153, 172],
								"count": 100,
								"connected": true
							}
						}
					},
					{
						"recognition": {
							"type": "OCR",
							"param": {
								"roi": "白色攻击力位置",
								//"roi_offset": [5, 5, -10, -10],
								"only_rec": true
							}
						}
					}
				]
			}
		}
	},
	"绿色攻击力识别": {
		"recognition": {
			"type": "And",
			"param": {
				"all_of": [
					{
						"sub_name": "攻击力位置",
						"recognition": {
							"type": "ColorMatch",
							"param": {
								"roi": [103, 140, 964, 337],
								"upper": [94, 135, 199],
								"lower": [5, 64, 72],
								"count": 600,
								"connected": true
							}
						}
					},
					{
						"sub_name": "绿色攻击力位置",
						"recognition": {
							"type": "ColorMatch",
							"param": {
								"roi": "攻击力位置",

								"upper": [163, 255, 98],
								"lower": [58, 116, 43],
								"count": 100,
								"connected": true
							}
						}
					},
					{
						"recognition": {
							"type": "OCR",
							"param": {
								"roi": "绿色攻击力位置",
								//"roi_offset": [5, 5, -10, -10],
								"only_rec": true
							}
						}
					}
				]
			}
		}
	}
}